2024-12-04 06:01:34.649 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6h51m13s426ms935Âµs700ns).
2024-12-04 06:09:54.112 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:09:56.374 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Fetching staff with id: 5893e2d6-936b-4373-bd63-a511925c05aa
2024-12-04 06:10:00.153 [http-nio-5050-exec-10] INFO  l.i.main.controller.StaffController - Fetching staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:10:28.152 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341 and staffDTO: StaffDTO(id=773ed8c4-a7d6-4d3e-b6e7-4848c3271341, firstName=Amala, lastName=Perera, designation=MANAGER, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Matara, conNo=0776542341, email=dam@gmail.com, role=MANAGER)
2024-12-04 06:10:28.156 [http-nio-5050-exec-3] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:10:28.164 [http-nio-5050-exec-3] ERROR l.i.main.controller.StaffController - Error updating staff: 
2024-12-04 06:10:28.178 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:10:39.038 [http-nio-5050-exec-4] INFO  l.i.main.controller.StaffController - Fetching staff with id: f2ba1951-44bd-4309-924e-3a4ca462f2b1
2024-12-04 06:11:14.583 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching staff with id: 5893e2d6-936b-4373-bd63-a511925c05aa
2024-12-04 06:11:18.420 [http-nio-5050-exec-7] INFO  l.i.main.controller.StaffController - Fetching staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:11:50.933 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341 and staffDTO: StaffDTO(id=773ed8c4-a7d6-4d3e-b6e7-4848c3271341, firstName=Amala, lastName=Perera, designation=MANAGER, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Matara, conNo=0776542341, email=dam@gmail.com, role=MANAGER)
2024-12-04 06:11:50.935 [http-nio-5050-exec-8] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:11:50.940 [http-nio-5050-exec-8] ERROR l.i.main.controller.StaffController - Error updating staff: 
2024-12-04 06:11:51.114 [http-nio-5050-exec-9] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:12:10.502 [http-nio-5050-exec-10] INFO  l.i.main.controller.StaffController - Fetching staff with id: f2ba1951-44bd-4309-924e-3a4ca462f2b1
2024-12-04 06:14:54.500 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:14:57.050 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Fetching staff with id: 5893e2d6-936b-4373-bd63-a511925c05aa
2024-12-04 06:15:27.937 [http-nio-5050-exec-4] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=uuuuu, lastName=rrrrrrrrrrrrrr, designation=mmmmmmmm, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Galle, conNo=0776542341, email=rbh@gmail.com, role=MANAGER)
2024-12-04 06:15:27.937 [http-nio-5050-exec-4] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:15:27.947 [http-nio-5050-exec-4] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:15:27.957 [http-nio-5050-exec-4] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:15:28.109 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:18:59.699 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:19:02.215 [http-nio-5050-exec-9] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=, lastName=, designation=, gender=, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=, conNo=, email=, role=null)
2024-12-04 06:19:02.216 [http-nio-5050-exec-9] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:19:02.218 [http-nio-5050-exec-9] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:19:02.219 [http-nio-5050-exec-9] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:19:02.376 [http-nio-5050-exec-10] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:19:04.600 [http-nio-5050-exec-2] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=, lastName=, designation=, gender=, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=, conNo=, email=, role=null)
2024-12-04 06:19:04.600 [http-nio-5050-exec-2] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:19:04.606 [http-nio-5050-exec-2] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:19:04.607 [http-nio-5050-exec-2] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:19:04.796 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:19:06.246 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=, lastName=, designation=, gender=, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=, conNo=, email=, role=null)
2024-12-04 06:19:06.246 [http-nio-5050-exec-1] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:19:06.261 [http-nio-5050-exec-1] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:19:06.263 [http-nio-5050-exec-1] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:19:06.387 [http-nio-5050-exec-5] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:23:48.739 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:23:50.839 [http-nio-5050-exec-7] INFO  l.i.main.controller.StaffController - Fetching staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:23:54.526 [http-nio-5050-exec-10] INFO  l.i.main.controller.StaffController - Fetching staff with id: 8fa2fefd-73ce-4821-8e4a-238a8c42df63
2024-12-04 06:24:27.443 [http-nio-5050-exec-2] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=Hiruna, lastName=Kethsara, designation=Senior Technician, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=N0:20, conNo=091-8666234, email=hiru@gmail.com, role=MANAGER)
2024-12-04 06:24:27.443 [http-nio-5050-exec-2] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:24:27.450 [http-nio-5050-exec-2] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:24:27.452 [http-nio-5050-exec-2] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:24:27.608 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:30:32.932 [http-nio-5050-exec-5] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:31:00.969 [http-nio-5050-exec-4] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:31:04.138 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=, lastName=, designation=, gender=, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=, conNo=, email=, role=null)
2024-12-04 06:31:04.139 [http-nio-5050-exec-6] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:31:04.143 [http-nio-5050-exec-6] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:31:04.143 [http-nio-5050-exec-6] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:31:04.280 [http-nio-5050-exec-7] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:31:06.396 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=, lastName=, designation=, gender=, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=, conNo=, email=, role=null)
2024-12-04 06:31:06.396 [http-nio-5050-exec-8] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:31:06.400 [http-nio-5050-exec-8] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:31:06.402 [http-nio-5050-exec-8] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:31:06.533 [http-nio-5050-exec-9] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:31:08.511 [http-nio-5050-exec-10] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=, lastName=, designation=, gender=, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=, conNo=, email=, role=null)
2024-12-04 06:31:08.511 [http-nio-5050-exec-10] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:31:08.514 [http-nio-5050-exec-10] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:31:08.517 [http-nio-5050-exec-10] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:31:08.644 [http-nio-5050-exec-2] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:34:47.821 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:34:50.264 [http-nio-5050-exec-5] INFO  l.i.main.controller.StaffController - Fetching staff with id: f2ba1951-44bd-4309-924e-3a4ca462f2b1
2024-12-04 06:35:32.394 [http-nio-5050-exec-4] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=Gayanuka, lastName=Bulegoda, designation=MANAGER, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Matara, conNo=0776542341, email=gnh@gmail.com, role=ADMINISTRATIVE)
2024-12-04 06:35:32.396 [http-nio-5050-exec-4] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:35:32.399 [http-nio-5050-exec-4] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:35:32.402 [http-nio-5050-exec-4] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:35:32.552 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:43:54.925 [http-nio-5050-exec-9] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:43:57.033 [http-nio-5050-exec-2] INFO  l.i.main.controller.StaffController - Fetching staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:43:59.527 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Fetching staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:44:03.453 [http-nio-5050-exec-5] INFO  l.i.main.controller.StaffController - Fetching staff with id: 8fa2fefd-73ce-4821-8e4a-238a8c42df63
2024-12-04 06:44:41.443 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:44:43.530 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Fetching staff with id: 5893e2d6-936b-4373-bd63-a511925c05aa
2024-12-04 06:45:00.512 [http-nio-5050-exec-10] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=uuuuu, lastName=rrrrrrrrrrrrrr, designation=mmmmmmmm, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Galle, conNo=0776542341, email=rbh@gmail.com, role=MANAGER)
2024-12-04 06:45:00.517 [http-nio-5050-exec-10] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:45:00.522 [http-nio-5050-exec-10] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:45:00.522 [http-nio-5050-exec-10] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:45:00.660 [http-nio-5050-exec-2] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:45:07.040 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Fetching staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:45:16.663 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=Amala, lastName=Perera, designation=MANAGER, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Matara, conNo=0776542341, email=dam@gmail.com, role=MANAGER)
2024-12-04 06:45:16.665 [http-nio-5050-exec-1] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:45:16.666 [http-nio-5050-exec-1] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:45:16.674 [http-nio-5050-exec-1] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:45:16.811 [http-nio-5050-exec-5] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:45:25.289 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching staff with id: f2d79191-8bd4-45a0-8320-17119197b5a1
2024-12-04 06:45:40.679 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Starting updateStaff method with id: undefined and staffDTO: StaffDTO(id=null, firstName=Kamala, lastName=Bulegoda, designation=MANAGER, gender=null, joinDate=Sun Nov 30 05:30:00 IST 2, DOB=Sun Nov 30 05:30:00 IST 2, addLine01=Colombo, conNo=0776542341, email=kam@gmail.com, role=MANAGER)
2024-12-04 06:45:40.682 [http-nio-5050-exec-8] INFO  l.i.m.service.impl.StaffServiceImpl - Starting updateStaff method
2024-12-04 06:45:40.691 [http-nio-5050-exec-8] ERROR l.i.m.service.impl.StaffServiceImpl - StaffNotFoundException: Staff not found
2024-12-04 06:45:40.694 [http-nio-5050-exec-8] ERROR l.i.main.controller.StaffController - Staff not found: 
2024-12-04 06:45:40.817 [http-nio-5050-exec-9] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:46:19.381 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Deleting staff with id: 5893e2d6-936b-4373-bd63-a511925c05aa
2024-12-04 06:46:21.599 [http-nio-5050-exec-1] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:46:26.867 [http-nio-5050-exec-4] INFO  l.i.main.controller.StaffController - Deleting staff with id: f0154ff1-35db-4f7a-a3f0-b37ecf9e85a6
2024-12-04 06:46:27.172 [http-nio-5050-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1451, SQLState: 23000
2024-12-04 06:46:27.172 [http-nio-5050-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`cropcare`.`equipment`, CONSTRAINT `FKavqr80pmehr0vn5h0qngmgdrx` FOREIGN KEY (`staff_id`) REFERENCES `staff` (`id`))
2024-12-04 06:46:27.220 [http-nio-5050-exec-4] ERROR l.i.main.controller.StaffController - Error deleting staff: 
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`cropcare`.`equipment`, CONSTRAINT `FKavqr80pmehr0vn5h0qngmgdrx` FOREIGN KEY (`staff_id`) REFERENCES `staff` (`id`))] [delete from staff where id=?]; SQL [delete from staff where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:663)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:413)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at lk.ijse.main.service.impl.StaffServiceImpl$$SpringCGLIB$$0.deleteStaff(<generated>)
	at lk.ijse.main.controller.StaffController.deleteStaff(StaffController.java:95)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:264)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at lk.ijse.main.controller.StaffController$$SpringCGLIB$$0.deleteStaff(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:117)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at lk.ijse.main.config.JWTConfig.doFilterInternal(JWTConfig.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`cropcare`.`equipment`, CONSTRAINT `FKavqr80pmehr0vn5h0qngmgdrx` FOREIGN KEY (`staff_id`) REFERENCES `staff` (`id`))] [delete from staff where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:633)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:500)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:385)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 130 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`cropcare`.`equipment`, CONSTRAINT `FKavqr80pmehr0vn5h0qngmgdrx` FOREIGN KEY (`staff_id`) REFERENCES `staff` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 150 common frames omitted
2024-12-04 06:46:31.915 [http-nio-5050-exec-7] INFO  l.i.main.controller.StaffController - Deleting staff with id: 773ed8c4-a7d6-4d3e-b6e7-4848c3271341
2024-12-04 06:46:34.079 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 06:49:09.104 [http-nio-5050-exec-2] INFO  l.i.m.c.MonitoryLogController - Fetching monitoryLog with code
2024-12-04 06:49:13.960 [http-nio-5050-exec-1] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 06:49:13.968 [http-nio-5050-exec-1] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 06:51:45.789 [http-nio-5050-exec-4] INFO  l.i.m.c.MonitoryLogController - Fetching monitoryLog with code
2024-12-04 06:51:50.434 [http-nio-5050-exec-6] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 06:51:50.450 [http-nio-5050-exec-6] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 06:53:56.944 [http-nio-5050-exec-8] INFO  l.i.m.c.MonitoryLogController - Fetching monitoryLog with code
2024-12-04 06:54:01.709 [http-nio-5050-exec-9] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 06:54:01.724 [http-nio-5050-exec-9] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 06:56:14.529 [http-nio-5050-exec-2] INFO  l.i.m.c.MonitoryLogController - Fetching monitoryLog with code
2024-12-04 06:56:18.267 [http-nio-5050-exec-3] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 06:56:18.282 [http-nio-5050-exec-3] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 07:02:54.712 [http-nio-5050-exec-5] INFO  l.i.m.c.MonitoryLogController - Fetching monitoryLog with code
2024-12-04 07:02:59.280 [http-nio-5050-exec-4] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 07:02:59.294 [http-nio-5050-exec-4] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 07:04:06.163 [http-nio-5050-exec-7] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 07:04:06.163 [http-nio-5050-exec-7] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 07:04:14.268 [http-nio-5050-exec-9] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 07:04:14.284 [http-nio-5050-exec-9] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 07:04:20.941 [http-nio-5050-exec-2] INFO  l.i.m.c.MonitoryLogController - Deleting monitoryLog with code: undefined
2024-12-04 07:04:20.961 [http-nio-5050-exec-2] ERROR l.i.m.c.MonitoryLogController - MonitoryLog can't found
2024-12-04 07:08:27.885 [http-nio-5050-exec-5] INFO  l.i.m.controller.VehicleController - Fetching all vehicle
2024-12-04 07:08:31.764 [http-nio-5050-exec-6] ERROR l.i.m.controller.VehicleController - Vehicle can not found
2024-12-04 07:10:31.032 [http-nio-5050-exec-8] INFO  l.i.m.controller.VehicleController - Fetching all vehicle
2024-12-04 07:10:36.785 [http-nio-5050-exec-9] ERROR l.i.m.controller.VehicleController - Vehicle can not found
2024-12-04 07:14:17.009 [http-nio-5050-exec-3] INFO  l.i.main.controller.StaffController - Fetching all staff
2024-12-04 07:14:22.118 [http-nio-5050-exec-5] INFO  l.i.main.controller.StaffController - Fetching staff with id: 8fa2fefd-73ce-4821-8e4a-238a8c42df63
2024-12-04 07:14:42.621 [http-nio-5050-exec-6] INFO  l.i.main.controller.StaffController - Fetching staff with id: 8fa2fefd-73ce-4821-8e4a-238a8c42df63
2024-12-04 07:14:54.180 [http-nio-5050-exec-8] INFO  l.i.main.controller.StaffController - Fetching staff with id: 8fa2fefd-73ce-4821-8e4a-238a8c42df63
2024-12-04 07:16:07.084 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 07:16:07.133 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-04 07:16:07.208 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
